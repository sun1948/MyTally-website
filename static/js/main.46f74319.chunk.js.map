{"version":3,"sources":["icons sync //.svg$","icons/chart.svg","icons/left.svg","icons/money.svg","icons/right.svg","icons/tag.svg","components/Icon.tsx","components/Nav.tsx","components/Layout.tsx","views/Money/Category.tsx","components/Input.tsx","views/Money/NoteSection.tsx","views/Money/NumberPad/Wrapper.tsx","views/Money/NumberPad.tsx","views/Money/NumberPad/generateOutput.tsx","lib/createId.tsx","hooks/useUpdate.tsx","hooks/useTags.tsx","views/Money/TagsSection.tsx","hooks/useRecord.tsx","views/Money.tsx","components/Button.tsx","components/Center.tsx","components/Space.tsx","views/Tags.tsx","components/TagNames.tsx","views/Statistics.tsx","views/NoMatch.tsx","components/Topbar.tsx","views/Tag.tsx","views/RecordEditPage.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","symbol","add","requireContext","require","forEach","error","console","log","IconWrapper","styled","span","Icon","props","name","children","className","rest","cs","xlinkHref","NavWrapper","nav","Nav","to","exact","activeClassName","Wrapper","div","Content","Layout","mainRef","useRef","useEffect","setTimeout","current","scrollTop","ref","defaultProps","section","CategorySection","useState","categoryList","currentCategory","value","hashMap","c","key","onClick","onChange","localStorage","setItem","Label","label","Input","NoteSection","type","placeholder","target","NumberPadSection","toString","output","_setOutput","text","textContent","newOutput","length","slice","parseFloat","setOutput","indexOf","generateOutput","onOk","parseInt","window","getItem","createId","useUpdate","fn","dependency","count","useTags","tags","setTags","localTags","JSON","parse","stringify","getName","filter","tag","findTag","updateTag","deleteTag","addTag","tagName","prompt","TagsSection","selectedTags","tagId","t","useRecord","records","setRecords","localRecords","addRecord","newRecord","record","createAt","Date","toISOString","getRecord","timeString","r","updateRecord","obj","deleteRecord","findRecords","MyLayout","CategoryWrapper","defaultFormData","tagIds","note","category","amount","Money","selected","setSelected","alert","Button","button","Center","Space","TagList","ol","Tags","TagNames","reduce","result","index","arr","concat","Item","Header","h3","Statistics","initial","setCategory","selectedRecords","hash","day","format","push","array","entries","sort","a","b","date","NoMatch","TopbarWrapper","header","Topbar","history","useHistory","goBack","InputWrapper","Statement","Tag","idString","useParams","tagContent","Category","RecordEditPage","item","defaultChecked","AppWrapper","App","path","from","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.46f74319.chunk.js","sourcesContent":["var map = {\n\t\"./chart.svg\": 39,\n\t\"./left.svg\": 40,\n\t\"./money.svg\": 41,\n\t\"./right.svg\": 42,\n\t\"./tag.svg\": 43\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 38;","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"chart\",\n  \"use\": \"chart-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"chart\\\"><defs><style></style></defs><path d=\\\"M1024.252 0l-209.92 23.04 69.12 69.12-227.84 278.528-236.544-218.624c-15.872-14.848-40.96-14.848-57.344-.512L14.076 465.408c-17.408 15.872-18.944 43.008-3.072 60.416 8.192 9.216 19.968 13.824 31.744 13.824 10.24 0 20.48-3.584 28.672-10.752l318.464-287.744 241.152 222.72c8.704 8.192 20.48 11.776 31.744 11.264 11.776-1.024 22.528-6.656 30.208-15.36l250.88-306.688 57.344 57.344L1024.252 0zm-890.88 1024h-102.4c-16.896 0-30.72-13.824-30.72-30.72V645.12c0-16.896 13.824-30.72 30.72-30.72h102.4c16.896 0 30.72 13.824 30.72 30.72v348.16c0 16.896-13.824 30.72-30.72 30.72z\\\" /><path d=\\\"M420.092 1024h-102.4c-16.896 0-30.72-13.824-30.72-30.72V440.32c0-16.896 13.824-30.72 30.72-30.72h102.4c16.896 0 30.72 13.824 30.72 30.72v552.96c0 16.896-13.824 30.72-30.72 30.72zm286.72 0h-102.4c-16.896 0-30.72-13.824-30.72-30.72V593.92c0-16.896 13.824-30.72 30.72-30.72h102.4c16.896 0 30.72 13.824 30.72 30.72v399.36c0 16.896-13.824 30.72-30.72 30.72zm286.72 0h-102.4c-16.896 0-30.72-13.824-30.72-30.72V337.92c0-16.896 13.824-30.72 30.72-30.72h102.4c16.896 0 30.72 13.824 30.72 30.72v655.36c0 16.896-13.824 30.72-30.72 30.72z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"left\",\n  \"use\": \"left-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"left\\\"><defs><style></style></defs><path d=\\\"M672 928c-8 0-16-3.2-22.4-9.6l-384-384c-12.8-12.8-12.8-32 0-44.8l384-384c12.8-12.8 32-12.8 44.8 0 12.8 12.8 12.8 32 0 44.8L332.8 512l361.6 361.6c12.8 12.8 12.8 32 0 44.8-6.4 6.4-14.4 9.6-22.4 9.6z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"money\",\n  \"use\": \"money-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"money\\\"><defs><style></style></defs><path d=\\\"M563 912h-97.8c-4.9 0-9.2-1.7-12.8-5.1-3.6-3.5-5.4-7.8-5.4-13V706.3H283.3c-4.9 0-9.2-1.7-12.8-5.1-3.6-3.5-5.4-7.8-5.4-13v-58.6c0-4.9 1.8-9.2 5.4-12.8 3.6-3.6 7.9-5.4 12.8-5.4h163.6v-48.3H283.3c-4.9 0-9.2-1.7-12.8-5.1-3.6-3.5-5.4-7.8-5.4-13v-59c0-4.9 1.8-9.2 5.4-12.8 3.6-3.6 7.9-5.4 12.8-5.4H405L222.6 139.2c-3-6.1-3-12.1 0-18.2 3.8-6.1 9.1-9.1 15.9-9.1h110.2c7.2 0 12.7 3.5 16.5 10.3l122.1 241.5c7.2 14.5 17.8 38.1 31.8 71 3.8-9.1 9.6-22 17.3-38.6 7.8-16.6 13-28.2 15.7-34.7l108.5-238.7c3-7.2 8.5-10.8 16.5-10.8h108.5c6.5 0 11.6 3 15.3 9.1 3.5 5.3 3.6 11.2.6 17.6L623.7 467.7h122.1c4.9 0 9.2 1.8 12.8 5.4s5.4 7.9 5.4 12.8v59c0 5.3-1.8 9.7-5.4 13-3.6 3.5-7.9 5.1-12.8 5.1H581.1v48.3h164.8c4.9 0 9.2 1.8 12.8 5.4 3.6 3.6 5.4 7.9 5.4 12.8V688c0 5.3-1.8 9.7-5.4 13-3.6 3.5-7.9 5.1-12.8 5.1H581.1v187.5c0 4.9-1.8 9.2-5.4 12.8-3.6 3.8-7.8 5.6-12.7 5.6z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"right\",\n  \"use\": \"right-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"right\\\"><defs><style></style></defs><path d=\\\"M352 96c8 0 16 3.2 22.4 9.6l384 384c12.8 12.8 12.8 32 0 44.8l-384 384c-12.8 12.8-32 12.8-44.8 0-12.8-12.8-12.8-32 0-44.8L691.2 512 329.6 150.4c-12.8-12.8-12.8-32 0-44.8C336 99.2 344 96 352 96z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"tag\",\n  \"use\": \"tag-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"tag\\\"><defs><style></style></defs><path d=\\\"M939.133 79.047c-10.439-10.526-24.587-16.45-39.343-16.45l-338.631.023c-14.75 0-28.905 5.9-39.336 16.434L81.448 523.464C71.018 534 65.156 548.276 65.156 563.168s5.861 29.17 16.292 39.697l338.624 341.746c10.869 10.962 25.106 16.45 39.343 16.45 14.245 0 28.482-5.488 39.336-16.45l440.382-444.424c10.43-10.535 16.3-24.812 16.3-39.713V118.752c0-14.893-5.87-29.17-16.3-39.705zm-243.365 357.91c-61.458 0-111.284-50.284-111.284-112.308s49.826-112.308 111.284-112.308 111.285 50.284 111.285 112.308-49.826 112.308-111.285 112.308z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React from 'react';\nimport styled from 'styled-components';\nimport cs from 'classnames';\n\n// require('icons/tag.svg');\n// require('icons/money.svg');\n// require('icons/chart.svg');\nlet importAll = (requireContext: __WebpackModuleApi.RequireContext) => requireContext.keys().forEach(requireContext);\ntry {importAll(require.context('icons', true, /\\.svg$/));} catch (error) {console.log(error);}\n\nconst IconWrapper = styled.span`\n  display: flex;\n  > svg {\n    display:inline-block;\n    width: 1em; height: 1em;\n    fill:#333333;\n    align-items: center;\n  }\n`\ntype Props = {\n  name?: string;\n} & React.SVGAttributes<HTMLOrSVGElement>;\nconst Icon = (props: Props) => {\n  const {name,children,className,...rest} = props;\n  return (\n    <IconWrapper>\n      <svg className={cs(\"icon\",className)} {...rest}>\n        {/*注意.name，外部数据以对象形式传入*/}\n        <use xlinkHref={\"#\" + props.name}/>\n      </svg>\n    </IconWrapper>\n  );\n};\n\nexport default Icon;","import styled from 'styled-components';\nimport React from 'react';\nimport {NavLink} from 'react-router-dom';\nimport Icon from './Icon';\n\nconst NavWrapper = styled.nav`\n  background-color: white;\n  box-shadow: 0 0 3px rgba(0,0,0,0.3);\n  > ul{\n    display: flex;\n    > li{\n      width: 33.3333%; text-align: center;\n      > a{\n        font-size: 14px;\n        padding: 8px 0 4px;\n        display: flex;\n        flex-direction: column; \n        align-items: center;\n        .icon{ width: 24px; height: 20px;}\n        &.selected{ color: red;\n          .icon{fill: red;}\n        }\n      }\n    }\n  }\n`;\n\nfunction Nav() {\n  return (\n    <NavWrapper>\n      <ul>\n        <li>\n          <NavLink to=\"/tag\" exact activeClassName=\"selected\">\n            <Icon name=\"tag\"/>\n            标签\n          </NavLink>\n        </li>\n        <li>\n          <NavLink to=\"/money\" activeClassName=\"selected\">\n            <Icon name=\"money\"/>\n            记账\n          </NavLink>\n        </li>\n        <li>\n          <NavLink to=\"/statistics\" activeClassName=\"selected\">\n            <Icon name=\"chart\"/>\n            统计\n          </NavLink>\n        </li>\n      </ul>\n    </NavWrapper>\n  );\n}\n\nexport default Nav;\n","import Nav from './Nav';\nimport styled from 'styled-components';\nimport React, {useRef, useEffect} from 'react';\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  height:100vh;\n`;\nconst Content = styled.div`\n  flex-grow:1;\n  overflow: auto;  //如果内容过高，使滚动区域出现在自身上，不影响下面\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  -ms-overflow-style: none; \n`;\n\ntype Props = {\n  className?: string;\n  scrollTop?: number;\n}\nconst Layout: React.FC<Props> = (props) => {\n  const mainRef = useRef<HTMLDivElement>(null);\n  useEffect(() => {\n    setTimeout(() => {\n      if (!mainRef.current) {return;}\n      mainRef.current.scrollTop = props.scrollTop!;  //！我不可能为空\n    }, 0);\n  }, [props.scrollTop]);\n  return (\n    <Wrapper>\n      <Content ref={mainRef} className={props.className}>\n        {props.children}\n      </Content>\n      <Nav/>\n    </Wrapper>\n  );\n};\n\nLayout.defaultProps = {\n  scrollTop: 0\n};\n\nexport default Layout;","import styled from 'styled-components';\nimport React, {useState} from 'react';\n\nconst Wrapper = styled.section`\n  font-size: 24px;\n  line-height: 22px;\n  > ul{\n    > li{\n      width: 50%; text-align: center;\n      display:inline-block; padding: 21px 0; position: relative;\n      &.selected::after{\n        content: ''; height: 4px; background: #333333; width: 100%;\n        position: absolute; left: 0; bottom: 0;\n      }\n    }\n  }\n`;\n\ntype Props = {\n  value:string;\n  onChange:(selected:'-'|'+')=>void;\n}\nconst CategorySection: React.FC<Props> = (props) => {\n  const [categoryList] = useState<('-' | '+')[]>(['-', '+']);\n  const currentCategory = props.value;\n  const hashMap = {'-': '支出', '+': '收入'};\n  return (\n    <Wrapper>\n      <ul>\n        {categoryList.map(c =>\n          <li key={c} className={currentCategory === c ? 'selected' : ''}\n              onClick={() => {\n                props.onChange(c);\n                localStorage.setItem('category',c);\n              }}\n          >{hashMap[c]}\n          </li>\n        )}\n      </ul>\n    </Wrapper>\n  );\n};\nexport {CategorySection};\n\n\n\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst Label = styled.label`\n  display: flex;\n  align-items: center;\n> span{\n    white-space: nowrap;\n    margin-right: 16px;\n  }\n> input{\n    height: 44px;\n    width: 100%;\n    border: none;\n    background: none;\n  }\n`\ntype Props = {  //声明Input组件可以接受的参数，除了label，接受input的所有属性\n  label?: string;\n} & React.InputHTMLAttributes<HTMLInputElement>;\nconst Input: React.FC<Props> = (props)=>{\n  const {label,children,...rest} = props;\n  return (\n    <Label>\n      <span>{label}</span>\n      <input {...rest}/>\n    </Label>\n  )\n}\n\nexport {Input};\n","import styled from 'styled-components';\nimport React from 'react';\nimport {Input} from 'components/Input';\n\nconst Wrapper = styled.section`\n  background-color: #f5f5f5;\n  padding: 14px 16px;\n  font-size: 14px;\n  color: #333333;\n`;\n\ntype Props = {\n  value: string;\n  onChange: (newNote: string) => void;\n}\nconst NoteSection: React.FC<Props> = (props) => {\n  return (\n    <Wrapper>\n      <Input label=\"备注\"\n             type=\"text\"\n             placeholder=\"请添加备注\"\n             value={props.value}\n             onChange={(e)=>{\n               props.onChange(e.target.value);\n             }}\n      />\n    </Wrapper>\n  );\n};\nexport {NoteSection};\n","import styled from \"styled-components\";\n\nconst Wrapper = styled.section`\n  output{\n    display: block;\n    font-size: 36px;\n    line-height: 72px;\n    text-align: end;\n    padding: 0 16px;\n    box-shadow: inset 0 -5px 5px -5px rgba(0,0,0,0.25);\n  }\n  .pad{\n    > button{\n      float: left;\n      width: 25%; font-size: 18px; line-height: 22px; height: 64px;\n      border: none;\n      &.ok{ height: 128px; background: #8B8B8B; float:right;  }\n      &:nth-child(1){\n        background: #F2F2F2;\n      }\n      &:nth-child(2), :nth-child(5){\n        background: #E0E0E0;\n      }\n      &:nth-child(3), :nth-child(6), :nth-child(9){\n        background: #D3D3D3;\n      }\n      &:nth-child(4), :nth-child(7), :nth-child(10){\n        background: #C1C1C1;\n      }\n      &:nth-child(8), :nth-child(11){\n        background: #A9A9A9;\n      }\n      &.dot{background: #9A9A9A;}\n      &.zero{ width: 50%; background: #A9A9A9;}\n    }\n  }\n`;\n\nexport {Wrapper};","import React, {useState} from 'react';\nimport {Wrapper} from 'views/Money/NumberPad/Wrapper';\nimport {generateOutput} from 'views/Money/NumberPad/generateOutput';\n\ntype Props = {\n  value: number;\n  onChange: (output: number) => void;\n  onOk?: () => void;\n}\nconst NumberPadSection: React.FC<Props> = (props) => {\n  const [output, _setOutput] = useState<string>(props.value.toString());\n  const setOutput = (output: string) => {\n    let newOutput: string;\n    if (output.length > 16) {\n      newOutput = output.slice(0, 16);\n    } else if (output.length === 0) {\n      newOutput = '0';\n    } else {\n      newOutput = output;\n    }\n    _setOutput(newOutput);\n    props.onChange(parseFloat(newOutput));\n  };\n  const onClick = (e: React.MouseEvent) => {\n    const text = (e.target as HTMLButtonElement).textContent;\n    if (text === null) return;\n    if (text === 'ok') {\n      props.onOk && props.onOk();\n      return;\n    }\n    setOutput(generateOutput(text, output));\n  };\n  return (\n    <Wrapper>\n      <output>{output}</output>\n      <div className=\"pad clearfix\" onClick={onClick}>\n        <button>1</button>\n        <button>2</button>\n        <button>3</button>\n        <button>删除</button>\n        <button>4</button>\n        <button>5</button>\n        <button>6</button>\n        <button>清空</button>\n        <button>7</button>\n        <button>8</button>\n        <button>9</button>\n        <button className=\"ok\">ok</button>\n        <button className=\"zero\">0</button>\n        <button className=\"dot\">.</button>\n      </div>\n    </Wrapper>\n  );\n};\nexport {NumberPadSection};","const generateOutput = (text:string, output:string) => {\n  switch (text) {\n    case '0':\n    case '1':\n    case '2':\n    case '3':\n    case '4':\n    case '5':\n    case '6':\n    case '7':\n    case '8':\n    case '9':\n      if (output === '0') {\n        return text;\n      } else {\n        return output + text;\n      }\n    case '.':\n      if(output.indexOf('.')>=0){\n        return output;\n      }else{\n        return output + '.';\n      }\n    case '删除':\n      if (output.length === 1) {\n        return '';\n      } else {\n        return output.slice(0, -1);\n      }\n    case '清空':\n      return '';\n    default:\n      return '';\n  }\n};\n\nexport {generateOutput};\n","let id = parseInt(window.localStorage.getItem('maxId') || '0');\nconst createId = () => {\n  id += 1;\n  window.localStorage.setItem('maxId',id.toString());\n  return id;\n};\n\nexport {createId};\n","import {useRef, useEffect} from 'react';\n\nconst useUpdate = (fn: () => void, dependency: any[]) => {\n  const count = useRef(0);\n  useEffect(()=>{\n    count.current += 1;\n  })\n  useEffect(() => {\n    if (count.current > 1) {\n      fn();\n    }\n  }, [fn,dependency]);\n};\n\nexport {useUpdate};\n","import {useState, useEffect} from 'react';\nimport {createId} from 'lib/createId';\nimport {useUpdate} from 'hooks/useUpdate';\n\nconst useTags = () => {   //封装自定义hook，即一个函数内部使用useState/useRef等等，然后返回一个接口。\n  const [tags, setTags] = useState<{ id: number; name: string }[]>([]);\n  //挂载后执行一次\n  useEffect(() => {\n    let localTags = JSON.parse(window.localStorage.getItem('localTags') || '[]');\n    if (!window.localStorage.getItem('localTags')) {\n      localTags = [\n        {id: createId(), name: '衣'},\n        {id: createId(), name: '食'},\n        {id: createId(), name: '住'},\n        {id: createId(), name: '行'}\n      ];\n    }\n    setTags(localTags);\n  }, []);\n  //tags更新即执行\n  useUpdate(() => {\n      window.localStorage.setItem('localTags', JSON.stringify(tags));\n    },\n    tags);\n  const findTag = (id: number) => tags.filter(tag => tag.id === id)[0];\n  const updateTag = (id: number, {name}: { name: string }) => {\n    // 深拷贝写法\n    // tagsClone.splice(findTagIndex(id), 1, {id: id, name: obj.name});\n    // setTags(tagsClone);\n    setTags(tags.map(tag =>\n      tag.id === id ? {id, name} : tag\n    ));\n  };\n  const addTag = () => {\n    const tagName = window.prompt('请输入新标签名称：');\n    if (tagName !== null && tagName !== '') {\n      setTags([...tags, {id: createId(), name: tagName}]);\n    }\n  };\n  const deleteTag = (id: number) => {\n    setTags(tags.filter(tag => tag.id !== id));\n  };\n  const getName = (id: number) => {\n    return tags.filter(tag => tag.id === id)[0] ?\n      tags.filter(tag => tag.id === id)[0].name : '未定义';\n  };\n  return {tags, setTags, getName, findTag, updateTag, deleteTag, addTag};\n};\n\nexport {useTags};\n\n// const findTagIndex = (id: number) => {\n//   let result = -1;\n//   for (let i = 0; i < tags.length; i++) {\n//     if (tags[i].id === id) {\n//       result = i;\n//       break;\n//     }\n//   }\n//   return result;\n// };\n// const tagsClone = JSON.parse(JSON.stringify(tags));","import styled from 'styled-components';\nimport React from 'react';\nimport {useTags} from 'hooks/useTags';\nimport {createId} from 'lib/createId';\n\nconst Wrapper = styled.section`\n  flex-grow: 1;\n  background-color: #ffffff;\n  padding: 12px 16px;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  align-items: flex-start;\n  ol{\n    font-size: 14px;\n    margin: 0 -12px;\n    >li{\n      background-color: #d9d9d9; \n      display: inline-block; \n      border-radius: 18px;\n      padding: 1px 18px;\n      line-height: 22px; \n      margin: 4px 12px;\n      &.selected{\n        background: #f60;\n      }\n    }\n  }\n  button{\n    font-size: 14px;border: none;\n    background: none;border-bottom: 1px solid #333;\n    color: #666; padding: 0 4px; margin-top: 14px;\n  } \n  \n`;\n\ntype Props = {\n  value: number[];\n  onChange: (NewSelectedTags: number[]) => void;\n}\nconst TagsSection: React.FunctionComponent<Props> = (props) => {\n  const selectedTags = props.value;\n  const {tags, setTags} = useTags();\n  const onAddTag = () => {\n    const tagName = window.prompt('请输入新标签名称：');\n    if (tagName !== null) {\n      setTags([...tags, {id: createId(), name: tagName}]);\n    }\n  };\n  const onToggleTag = (tagId: number) => {\n    const index = selectedTags.indexOf(tagId);\n    if (index >= 0) {\n      props.onChange(selectedTags.filter(t => t !== tagId));\n    } else {\n      props.onChange([...selectedTags, tagId]);\n    }\n  };\n  const getClass = (tagId: number) => selectedTags.indexOf(tagId) >= 0 ? 'selected' : '';\n  return (\n    <Wrapper>\n      <ol>\n        {tags.map(tag =>\n          <li key={tag.id} onClick={() => onToggleTag(tag.id)} className={getClass(tag.id)}\n          >{tag.name}</li>\n        )}\n      </ol>\n      <button onClick={onAddTag}>新增标签</button>\n    </Wrapper>\n  );\n};\nexport {TagsSection};","import {useState, useEffect} from 'react';\nimport {useUpdate} from 'hooks/useUpdate';\n\nexport type RecordItem = {\n  tagIds: number[]\n  note: string\n  category: '-' | '+'\n  amount: number\n  createAt: string\n}\ntype newRecordItem = Omit<RecordItem, 'createAt'>\n\nexport const useRecord = () => {\n  const [records, setRecords] = useState<RecordItem[]>([]);\n  useEffect(() => {\n    const localRecords = JSON.parse(window.localStorage.getItem('records') || '[]');\n    setRecords(localRecords);\n  }, []);\n  useUpdate(() => {\n    window.localStorage.setItem('records', JSON.stringify(records));\n  }, records);\n  const findRecords = (timeString: string) => records.filter(r =>\n    r.createAt === timeString)[0];\n  const addRecord = (newRecord: newRecordItem) => {\n    const record = {...newRecord, createAt: (new Date()).toISOString()};\n    setRecords([...records, record]);\n  };\n  const getRecord = (timeString: string, type: 'amount' | 'note' | 'category') => {\n    if (records.filter(r => r.createAt === timeString)[0]) {\n      return records.filter(r => r.createAt === timeString)[0][type];\n    } else {\n      return;\n    }\n  };\n  type Obj = {\n    note?: string\n    category?: '-' | '+'\n    amount?: number\n  }\n  const updateRecord = (timeString: string, obj: Obj) => {\n    setRecords(records.map(r =>\n      r.createAt === timeString ? {...r, ...obj} : r\n    ));\n  };\n  const deleteRecord = (timeString: string) => {\n    setRecords(records.filter(r =>\n      r.createAt !== timeString\n    ));\n  };\n\n  return {\n    records,\n    setRecords,\n    addRecord,\n    getRecord,\n    updateRecord,\n    deleteRecord,\n    findRecords\n  };\n};\n","import React, {useState} from 'react';\nimport Layout from 'components/Layout';\nimport styled from 'styled-components';\nimport {CategorySection} from './Money/Category';\nimport {NoteSection} from './Money/NoteSection';\nimport {NumberPadSection} from './Money/NumberPad';\nimport {TagsSection} from './Money/TagsSection';\nimport {useRecord} from 'hooks/useRecord';\n\nconst MyLayout = styled(Layout)`\n  display: flex;\n  flex-direction: column;\n`;\nconst CategoryWrapper = styled.div`\n  background: #C4c4c4;\n`\ntype CategoryType = '-' | '+';\nconst defaultFormData = {\n  tagIds: [] as number[],\n  note: '',\n  category: '-' as CategoryType,\n  amount: 0\n};\nconst Money = () => {\n  const [selected, setSelected] = useState(defaultFormData);\n  const onChange = (obj: Partial<typeof selected>) => {\n    setSelected({\n      ...selected,\n      ...obj\n    });\n  };\n  const {addRecord} = useRecord();\n  const submit = () => {\n    if (selected.tagIds.length === 0) {\n      alert('请选择标签');\n      return;\n    }\n    if(selected.amount === 0){\n      alert('请输入金额');\n      return;\n    }\n    addRecord(selected);\n    alert('记账成功');\n    setSelected(defaultFormData);\n  };\n  return (\n    <MyLayout scrollTop={9999}>\n      <TagsSection value={selected.tagIds}\n                   onChange={tagIds => onChange({tagIds})}/>\n      <NoteSection value={selected.note}\n                   onChange={note => onChange({note})}/>\n      <CategoryWrapper>\n        <CategorySection value={selected.category}\n                         onChange={category => onChange({category})}/>\n      </CategoryWrapper>\n      <NumberPadSection value={selected.amount}\n                        onChange={amount => onChange({amount})}\n                        onOk={submit}/>\n    </MyLayout>\n  );\n};\nexport default Money;","import styled from \"styled-components\";\n\nconst Button = styled.button`\n  font-size: 18px; padding: 8px 12px;\n  color: #fff; background: #767676;\n  border: none; border-radius: 4px;\n`;\n\nexport {Button};","import styled from \"styled-components\";\n\nconst Center = styled.div`\n  display:flex; justify-content: center; align-items: center; flex-direction: column;\n`;\n\nexport {Center};","import styled from \"styled-components\";\n\nconst Space = styled.div`\n  height: 16px;\n`\n\nexport {Space};","import React from 'react';\nimport Layout from 'components/Layout';\nimport {useTags} from 'hooks/useTags';\nimport styled from 'styled-components';\nimport Icon from 'components/Icon';\nimport { Link } from 'react-router-dom';\nimport {Button} from 'components/Button';\nimport {Center} from 'components/Center';\nimport {Space} from 'components/Space';\n\nconst TagList = styled.ol`\n  font-size: 16px;\n  background: #fff;\n  > li{\n    border-bottom: 1px solid #BCBBC1; \n    margin-left: 16px;\n    > a{\n      display: flex; \n      justify-content: space-between;\n      align-items: center;\n      padding: 10px 0; //把padding放进a标签，使点击范围足够大\n      .icon{\n        width: 22px;\n        height: 22px;\n        margin-right: 18px;\n      }\n    }\n  }\n`;\nconst Tags = () => {\n  const {tags,addTag} = useTags();\n  return (\n    <Layout>\n      <TagList>\n        {tags.map(tag =>\n          <li key={tag.id}>\n            <Link to={\"/Tag/\"+tag.id}>\n              <span className=\"oneLine\">{tag.name}</span>\n              <Icon name=\"right\"/>\n            </Link>\n          </li>\n        )}\n      </TagList>\n      <Center>\n        <Space/>\n        <Space/>\n        <Space/>\n        <Button onClick={addTag}>新增标签</Button>\n        <Space/>\n      </Center>\n    </Layout>\n  );\n};\nexport default Tags;","import styled from 'styled-components';\nimport {RecordItem} from '../hooks/useRecord';\nimport {useTags} from '../hooks/useTags';\nimport {ReactNode} from 'react';\nimport React from 'react';\n\nconst Wrapper = styled.div`\n  \n`;\ntype Props = {\n  record: RecordItem\n}\nexport const TagNames: React.FC<Props> = (props) => {\n  const {getName} = useTags();\n  return (\n    <Wrapper className=\"tagName oneLine\">\n      {props.record.tagIds\n        .map(tagId => <span key={tagId}>{getName(tagId)}</span>)\n        .reduce((result, span, index, arr) =>\n            index < arr.length - 1 ? result.concat([span, '，']) : result.concat([span])\n          , [] as ReactNode[])\n      }\n    </Wrapper>\n  );\n};\n","import Layout from 'components/Layout';\nimport {CategorySection} from 'views/Money/Category';\nimport React, {useState} from 'react';\nimport styled from 'styled-components';\nimport {RecordItem, useRecord} from 'hooks/useRecord';\nimport day from 'dayjs';\nimport { Link } from 'react-router-dom';\nimport {TagNames} from '../components/TagNames';\n\nconst Wrapper = styled.div`\n  background: white;\n`;\nconst Item = styled.div`\n  background: white;\n  display: flex;\n  justify-content: space-between;\n  font-size: 18px;\n  padding: 8px 16px;\n  > .note{\n    margin-right: auto;\n    margin-left: 16px;\n    color: #999;\n    font-size: 16px;\n  }\n`;\nconst Header = styled.h3`\n  font-size: 18px;\n  padding: 8px 16px;\n`;\n\nconst Statistics = () => {\n  const initial = localStorage.getItem('category') || '-';\n  const [category, setCategory] = useState<string>(initial);\n  const {records} = useRecord();\n  const selectedRecords = records.filter(r => r.category === category);\n  const hash: { [Key: string]: RecordItem[] } = {};  //对象中无顺序，需要后面手动排序\n  selectedRecords.forEach(r => {   //或者forEach(无返回值)，后者for循环\n    const key = day(r.createAt).format('YYYY年MM月DD日');\n    if (!(key in hash)) {\n      hash[key] = [];\n    }\n    hash[key].push(r);\n  });\n  //对象转成数组 Object.entries()\n  const array = Object.entries(hash).sort((a, b) => {\n    if (a[0] > b[0]) return -1;\n    if (a[0] < b[0]) return 1;\n    return 0;\n  });\n\n  return (\n    <Layout>\n      <Wrapper>\n        <CategorySection value={category}\n                         onChange={category => setCategory(category)}/>\n      </Wrapper>\n\n      {array.map(([date, records]) => {   //使用析构赋值\n        return <div key={date}>\n          <Header>{date}</Header>\n          <div>\n            {records.map(record => {\n                return (\n                  <Link to={'/recordItem/' + record.createAt} key={record.createAt}>\n                    <Item>\n                      <TagNames record={record}/>\n                      {record.note && <div className=\"note oneLine\">\n                        <span>{record.note}</span>\n                      </div>}\n                      <div className=\"amount\">\n                        ¥<span>{record.amount}</span>\n                      </div>\n                    </Item>\n                  </Link>\n                );\n              }\n            )}\n          </div>\n        </div>;\n      })}\n    </Layout>\n  );\n};\nexport default Statistics;\n\n","import React from 'react';\n\nfunction NoMatch() {\n  return <div>你输入的路径不存在</div>;\n}\n\nexport default NoMatch;","import Icon from './Icon';\nimport styled from 'styled-components';\nimport React from 'react';\nimport { useHistory } from 'react-router-dom';\n\nconst TopbarWrapper = styled.header`\n  display:flex;\n  justify-content: space-between;\n  align-items: center; \n  background: #fff;\n  padding: 12px 16px;   \n  .icon{ width: 22px;height: 22px; }\n`;\n\n\n\ntype Props = {\n  value: string;\n}\nexport const Topbar: React.FC<Props> = (props) => {\n  const history = useHistory();\n  const onClickBack = ()=>{\n    history.goBack();\n  }\n  return (\n    <TopbarWrapper>\n      <Icon name=\"left\" onClick={onClickBack}/>\n      <span>{props.value}</span>\n      <Icon/>\n    </TopbarWrapper>\n  );\n};","import React from 'react';\nimport {useTags} from 'hooks/useTags';\nimport {useParams} from 'react-router-dom';\nimport Layout from 'components/Layout';\nimport {Button} from 'components/Button';\nimport styled from 'styled-components';\nimport {Input} from 'components/Input';\nimport {Center} from 'components/Center';\nimport {Space} from 'components/Space';\nimport {Topbar} from 'components/Topbar';\n\ntype Params = {\n  id: string;\n}\n\nconst InputWrapper = styled.div`\n  background: #fff;\n  padding: 0 16px;\n  margin-top: 8px;\n  font-size: 16px;\n  color: #333333;\n`;\nconst Statement = styled.div`\n  padding: 8px 16px;\n`\nconst Tag: React.FC = () => {\n  let {id: idString} = useParams<Params>();\n  const {findTag, updateTag, deleteTag} = useTags();\n  const tag = findTag(parseInt(idString));\n  const tagContent = (tag: { id: number; name: string }) => (\n    <div>\n      <InputWrapper>\n        <Input label=\"标签名\"\n               type=\"text\"\n               placeholder=\"请输入标签名称\"\n               value={tag.name}\n               onChange={e => {\n                 updateTag(tag.id, {name: e.target.value});\n               }}\n        />\n      </InputWrapper>\n      <Center>\n        <Space/>\n        <Space/>\n        <Space/>\n        <Button onClick={() => deleteTag(tag.id)}>删除标签</Button>\n      </Center>\n    </div>\n  );\n  //使用hash模式的Router，前进和后退都不会刷新页面\n  return (\n    <Layout>\n      <Topbar value={'编辑标签'}/>\n      {tag ? tagContent(tag) : <Statement>标签不存在</Statement>}\n    </Layout>\n  );\n};\nexport {Tag};","import Layout from 'components/Layout';\nimport React from 'react';\nimport {Topbar} from 'components/Topbar';\nimport {Input} from 'components/Input';\nimport {Center} from 'components/Center';\nimport {Space} from 'components/Space';\nimport {Button} from 'components/Button';\nimport {useParams, useHistory} from 'react-router-dom';\nimport styled from 'styled-components';\nimport {useRecord} from 'hooks/useRecord';\nimport {TagNames} from 'components/TagNames';\n\nconst Content = styled.div`\n  background: #fff;\n  margin-top: 8px;\n  padding: 0 16px;\n  font-size: 16px;\n  color: #333333;\n  > .tagName{\n    > span{ line-height: 44px; font-weight: bolder}\n  }\n`;\nconst Category = styled.div`\n  height: 44px;\n  line-height: 18px;\n  padding:13px 0;\n  > label{\n    &:nth-child(1){\n      margin-right: 20px;\n    }\n    > input{\n      margin-right: 5px;\n    }\n  }\n`;\ntype Params = {\n  createAt: string;\n}\n\nexport const RecordEditPage: React.FC = () => {\n  const {getRecord, updateRecord, deleteRecord, findRecords} = useRecord();\n  let {createAt: timeString} = useParams<Params>();\n  const record = findRecords(timeString);\n  const categoryList: ('-' | '+')[] = ['-', '+'];\n  const hashMap = {'-': '支出', '+': '收入'};\n  const history = useHistory();\n  const Main = () => (\n    <div>\n      <Content>\n        <TagNames record={record}/>\n        <Input label=\"备注:\"\n               value={getRecord(timeString, 'note')}\n               type=\"text\"\n               onChange={e => updateRecord(timeString, {note: e.target.value})}\n        />\n        <Category>\n          {categoryList.map(item =>\n            <label key={item}>\n              <input type=\"radio\" name=\"drone\"\n                     value={getRecord(timeString, 'category')}\n                     defaultChecked={getRecord(timeString, 'category') === item}\n                     onClick={() => updateRecord(timeString, {category: item})}\n              />\n              <span>{hashMap[item]}</span>\n            </label>\n          )}\n        </Category>\n        <Input label=\"数额:\"\n               value={getRecord(timeString, 'amount')}\n               type=\"text\"\n               onChange={e => updateRecord(timeString, {amount: parseFloat(e.target.value) || 0})}\n        />\n      </Content>\n      <Center>\n        <Space/>\n        <Space/>\n        <Space/>\n        <Button onClick={() => {\n          deleteRecord(timeString);\n          history.goBack();\n        }}>删除记录</Button>\n      </Center>\n    </div>\n  );\n\n  return (\n    <Layout>\n      <div>\n        <Topbar value=\"修改记录\"/>\n        {record && Main()}\n      </div>\n    </Layout>\n  );\n};\n","import React from 'react';\nimport {HashRouter as Router, Switch, Route, Redirect} from 'react-router-dom';\nimport Money from './views/Money';\nimport Tags from './views/Tags';\nimport Statistics from './views/Statistics';\nimport NoMatch from './views/NoMatch';\nimport styled from 'styled-components';\nimport {Tag} from './views/Tag';\nimport {RecordEditPage} from './views/RecordEditPage';\n\nconst AppWrapper = styled.div`\n  color: #333;\n  max-width: 500px;\n  margin: 0 auto;\n`;\n\nfunction App() {\n  return (\n    <Router>\n      <AppWrapper>\n        <Switch>\n          <Route exact path=\"/tag\">\n            <Tags/>\n          </Route>\n          <Route exact path=\"/tag/:id\">\n            <Tag/>\n          </Route>\n          <Route exact path=\"/money\">\n            <Money/>\n          </Route>\n          <Route exact path=\"/statistics\">\n            <Statistics/>\n          </Route>\n          <Route exact path=\"/recordItem/:createAt\">\n            <RecordEditPage/>\n          </Route>\n          <Redirect exact from=\"/\" to=\"/money\"/>\n          <Route path=\"*\">\n            <NoMatch/>\n          </Route>\n        </Switch>\n      </AppWrapper>\n    </Router>\n  );\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport 'index.scss';\n\nReactDOM.render(\n  <App/>,\n  document.getElementById('root')\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}